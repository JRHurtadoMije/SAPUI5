<mvc:View
    controllerName="com.jr.jrhub.controller.Tres"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">
    
    
<Page id="pageTres"
          class="tresBackground sapUiContentPadding"
          showNavButton="true"
          navButtonPress=".onNavBack">

        <customHeader>
            <Bar id="tresHeader" class="tresHeaderBar">
                <contentLeft>
                    
                    <Button id="btnVolver" icon="sap-icon://nav-back"
                            type="Transparent"
                            text="Volver"
                            press=".onNavBack"/>
                </contentLeft>
                <contentMiddle>
                    <!-- Título con estilo “pildora” -->
                    <Title id="pageTitle" text="Tres en Raya" class="tresTitlePill"/>
                </contentMiddle>
                
            </Bar>
        </customHeader>

        <content>
            <HBox id="Marcador" justifyContent="Center" class="tresScoreBox" renderType="Bare" >
                <Text id="jugadorX" text="Jugador X: {/marcador/X}" class="tresScoreX" />
                <ToolbarSeparator id="separator1" class="separador1"/>
                <Text id="jugadorO" text="Jugador O: {/marcador/O}" class="tresScoreO" />
                <ToolbarSeparator id="separator2" class="separador1" />
                <Text id="Empates" text="Empates: {/marcador/Empate}" class="tresScoreEmpate" />
            </HBox>
            <VBox id="vboxTres" class="tresContent">
                <l:Grid id="gridBoard" defaultSpan="L4 M4 S4" hSpacing="1" vSpacing="1" width="300px" class="tresBoard">
                    <l:content>
                        <!-- Fila 1 -->
                        <Button id="square_one" text="{/tablero/0/0}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="0,0"/>
                            </customData>
                        </Button>
                        <Button id="square_two" text="{/tablero/0/1}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="0,1"/>
                            </customData>
                        </Button>
                        <Button id="square_three" text="{/tablero/0/2}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="0,2"/>
                            </customData>
                        </Button>
                        <!-- Fila 2 -->
                        <Button id="square_four" text="{/tablero/1/0}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="1,0"/>
                            </customData>
                        </Button>
                        <Button id="square_five" text="{/tablero/1/1}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="1,1"/>
                            </customData>
                        </Button>
                        <Button id="square_six" text="{/tablero/1/2}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="1,2"/>
                            </customData>
                        </Button>
                        <!-- Fila 3 -->
                        <Button id="square_seven" text="{/tablero/2/0}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="2,0"/>
                            </customData>
                        </Button>
                        <Button id="square_eight" text="{/tablero/2/1}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="2,1"/>
                            </customData>
                        </Button>
                        <Button id="square_nine" text="{/tablero/2/2}" press="alPulsarCelda" class="tresCell">
                            <customData>
                                <core:CustomData key="boardIndex" value="2,2"/>
                            </customData>
                        </Button>
                    </l:content>
                </l:Grid>

                <Button id="btnReset" text="Reiniciar" press="onReset" type="Emphasized" class="tresBtnRst sapUiMediumMarginTop"/>
            </VBox>

            <!-- Diálogo de fin de juego -->
            <Dialog id="gameOverDialog" title="Game Over" class="tresModal">
                <VBox id="modalContent" class="tresModalContent">
                    <Text id="modalText" text="{/winner}" class="tresModalText"/>
                    <Button id="restartBtn" text="¿Jugar otra vez?" press="onReset" type="Default"/>
                </VBox>
            </Dialog>
        </content>
    </Page>
</mvc:View>